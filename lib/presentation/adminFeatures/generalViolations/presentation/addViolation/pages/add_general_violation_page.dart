import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'package:shiftapp/presentation/shared/components/base_widget_bloc.dart';import '../../../../../presentationUser/common/common_state.dart';import '../../../domain/entities/index.dart';import '../bloc/add_general_violation_bloc.dart';import '../bloc/add_general_violation_state.dart';import 'add_general_violation_screen.dart';class AddGeneralViolationPage extends BaseBlocWidget<Initialized<AddGeneralViolationState>,    AddGeneralViolationCubit> {  AddGeneralViolationPage({super.key});  @override  void loadInitialData(BuildContext context) {    int? id = getArguments(context);    bloc.fetchInitialData(id);  }  @override  bool detectRequiredTasks() {    return false;  }  @override  String? title(BuildContext context) {    return getArguments(context) == null ? strings.add_violation : strings.edit_violation;  }  @override  Widget buildWidget(      BuildContext context, Initialized<AddGeneralViolationState> state) {    return AddGeneralViolationScreen(      state: state.data,      onFetchProjectsByCompanyId: (id) {        bloc.fetchProjectsCompanyId(id);      },      onFetchShiftsByProjectId: (id) {        bloc.fetchShiftByProjectId(id);      },      onFetchViolationTypesByProjectId: (id) {        bloc.fetchViolationsTypesByProjectId(id);      },      onFetchEmployeeWorksByShiftId: (id) {        bloc.fetchEmployeeWorksByShiftId(id);      },      onAdd: (params, files) {        bloc.addGeneralViolation(params, files);      },    );  }  @override  void onSuccessDismissed() {    Navigator.pop(context, true);  }}