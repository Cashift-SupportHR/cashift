import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'package:shiftapp/extensions/extensions.dart';import 'package:shiftapp/presentation/shared/components/base_widget_bloc.dart';import '../../../../../../../presentationUser/common/common_state.dart';import '../../../../../../../shared/components/helper_widgets.dart';import '../../../bloc/add_working_period_bloc.dart';import 'add_working_period_sheet.dart';class AddWorkingPeriodsProjectBuilder extends BaseBlocWidget<InitializedAddWorkingPeriod, AddWorkingPeriodCubit> {  final int? id;  final int projectId;  final int companyId;  final Function()? onRefresh;  AddWorkingPeriodsProjectBuilder({Key? key, required this.companyId, this.id, required this.projectId, this.onRefresh}) : super(key: key);  @override  void loadInitialData(BuildContext context) {    bloc.fetchAllaData(id: id);  }  @override  bool initializeByKoin() {    return false;  }  @override  Widget buildWidget(BuildContext context, InitializedAddWorkingPeriod state) {    return AddWorkingPeriodSheet(      state: state,      onAddPeriod: (params) {        params.projectId = projectId;        params.companyId = companyId;        bloc.addEditWorkingPeriod(params);      },    );  }  @override  void onSuccessDismissed() {    Navigator.pop(context, true);    onRefresh!();  }}showAddWorkingPeriodSheet(BuildContext context, {int? id, required int projectId, required int companyId, Function()? onRefresh, required String title}) {  showAppModalBottomSheet(    context: context,    title: title,    isDivider: false,    topMargin: 10,    child: AddWorkingPeriodsProjectBuilder(      id: id,      companyId: companyId ?? 0,      projectId: projectId,      onRefresh: onRefresh,    ),  );}