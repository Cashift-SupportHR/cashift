import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'package:shiftapp/extensions/extensions.dart';import 'package:shiftapp/presentation/presentationUser/common/common_state.dart';import 'package:shiftapp/presentation/shared/components/base_widget_bloc.dart';import 'package:shiftapp/presentation/shared/components/helper_widgets.dart';import '../../../../../data/models/add_covenant_vehicle_params.dart';import '../../../../../domain/entities/covenant_vehicle.dart';import '../../../bloc/covenants_vehicles_cubit.dart';import 'add_covenant_vehicle_sheet_widget.dart';class AddCovenantVehicleBuilder    extends BaseBlocWidget<UnInitState, CovenantsVehiclesCubit> {  final CovenantVehicle? initialData;  final Function()? onRefresh;  final int vehicleId;  AddCovenantVehicleBuilder({Key? key, this.initialData, this.onRefresh, required this.vehicleId}) : super(key: key);  @override  Widget buildWidget(BuildContext context, UnInitState state) {    return AddVehicleCovenantSheetWidget(      initialData: initialData,      onAddCovenant: (AddCovenantVehicleParams params) {        params.vehicleId = vehicleId;        bloc.addEditCovenant(params);      },    );  }  @override  void onSuccessDismissed() {    Navigator.pop(context);    onRefresh?.call();  }  static void show(BuildContext context, {Function()? onRefresh, required int vehicleId, CovenantVehicle? initialData}) {    showAppModalBottomSheet(      context: context,      title: initialData != null ? context.getStrings().edit_covenant : context.getStrings().add_covenant,      child: AddCovenantVehicleBuilder(onRefresh: onRefresh, vehicleId: vehicleId, initialData: initialData),    );  }  @override  bool detectRequiredTasks() {    return false;  }}