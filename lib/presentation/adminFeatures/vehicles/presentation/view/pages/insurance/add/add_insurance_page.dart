import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'package:shiftapp/presentation/presentationUser/common/common_state.dart';import 'package:shiftapp/presentation/shared/components/base_widget_bloc.dart';import '../../../../../data/models/add_insurance_prams.dart';import '../../../../../data/models/constract_add_insurance.dart'; import '../../../../../domain/entities/insurance_types.dart';import '../../../bloc/vehicles_cubit.dart';import 'add_insurance_screen.dart';class AddInsurancePage extends BaseBlocWidget<    Initialized<List<InsuranceTypes>>, VehiclesCubit> {  AddInsurancePage({Key? key}) : super(key: key);  @override  void loadInitialData(BuildContext context) {    bloc.fetchInsuranceTypes();  }  @override  String? title(BuildContext context) {    ConstractAddInsurance constractAddInsurance = getArguments(context);    return constractAddInsurance.insurancesDto != null        ? strings.edit_insurance        : strings.add_insurance;  }  @override  Widget buildWidget(      BuildContext context, Initialized<List<InsuranceTypes>> state) {    ConstractAddInsurance constractAddInsurance = getArguments(context);    return AddInsuranceScreen(      insuranceTypesDto: state.data,      constractAddInsurance: constractAddInsurance,      addInsurance: (AddInsurancePrams addInsurancePrams) {        print(addInsurancePrams.insuranceImage?.path ?? "");        print(addInsurancePrams.insuranceExpiryDate ?? "");        (addInsurancePrams.id == null || addInsurancePrams.id == 0)            ? bloc.addInsurance(addInsurancePrams: addInsurancePrams)            : bloc.editInsurance(addInsurancePrams: addInsurancePrams);      },    );  }  @override  void onSuccessDismissed() {    Navigator.pop(context, true);  }  @override  bool detectRequiredTasks() {    return false;  }}